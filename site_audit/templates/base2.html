<!DOCTYPE html>
<html lang="en">

<head>
  {% load static %}
  <meta charset="utf-8">
  <title>Site Audit</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="WebsiteRankingExpert">
  <meta name="author" content="BitsWits Team">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.lineicons.com/3.0/lineicons.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link href="{% static 'site_audit/css/base2.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"
    onload="this.onload=null;this.removeAttribute('media');" />

  <!-- mdb -->
  <link href="{% static 'site_audit/css/multiselect.css' %}" rel="stylesheet">
  <link href="{% static 'site_audit/css/daterangepicker.css' %}" rel="stylesheet">
  <!-- <link href="{% static 'site_audit/css/bootstrap5.1.3.css' %}" rel="stylesheet"> -->
  <link href="{% static 'site_audit/css/jqueryDataTable1.12.1.css' %}" rel="stylesheet">
  <link href="{% static 'site_audit/css/buttons.dataTables.min.css' %}" rel="stylesheet">
  <link href="{% static 'site_audit/css/animation.css' %}" rel="stylesheet">
  <link href="{% static 'site_audit/libs/noty/noty.css' %}" rel="stylesheet">
  <link href="{% static 'site_audit/libs/noty/themes/light.css' %}" rel="stylesheet">
  <link href="{% static 'site_audit/css/lineicons.css' %}" rel="stylesheet">
  <!-- mdb -->
  <link href="{% static 'site_audit/css/select2.css' %}" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/0.8.2/css/flag-icon.min.css" rel="stylesheet" />
  <link href="{% static 'site_audit/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'site_audit/css/styles.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    onload="this.onload=null;this.removeAttribute('media');" crossorigin="">
  <!-- Le fav and touch icons -->
  <link rel="apple-touch-icon" sizes="57x57" href="{% static 'site_audit/ico/android-chrome-512x512.png' %}">
  <link rel="apple-touch-icon" sizes="60x60" href="{% static 'site_audit/ico/android-chrome-512x512.png' %}">
  <link rel="apple-touch-icon" sizes="72x72" href="{% static 'site_audit/ico/android-chrome-512x512.png' %}">
  <link rel="apple-touch-icon" sizes="76x76" href="{% static 'site_audit/ico/android-chrome-512x512.png' %}">
  <link rel="apple-touch-icon" sizes="114x114" href="{% static 'site_audit/ico/android-chrome-512x512.png' %}">
  <link rel="apple-touch-icon" sizes="120x120" href="{% static 'site_audit/ico/android-chrome-512x512.png' %}">
  <link rel="apple-touch-icon" sizes="144x144" href="{% static 'site_audit/ico/android-chrome-512x512.png' %}">
  <link rel="apple-touch-icon" sizes="152x152" href="{% static 'site_audit/ico/android-chrome-512x512.png' %}">
  <link rel="apple-touch-icon" sizes="180x180" href="{% static 'site_audit/ico/android-chrome-512x512.png' %}">
  <link rel="icon" type="image/png" sizes="192x192" href="{% static 'site_audit/ico/android-chrome-512x512.png' %}">
  <link rel="icon" type="image/png" sizes="32x32" href="{% static 'site_audit/ico/favicon-32x32.png' %}">
  <link rel="icon" type="image/png" sizes="96x96" href="{% static 'site_audit/ico/favicon-32x32.png' %}">
  <link rel="icon" type="image/png" sizes="16x16" href="{% static 'site_audit/ico/favicon-32x32.png' %}">

  {% block extrahead %} {% endblock %}
  <style>
  .form-control:focus {
    border-color: #000000;
    box-shadow: none;
  }
    strong.search_headings {
      display: block;
      font-size: smaller;
      margin: 4px 15px -9px;
    }

    .link_container {
      padding-top: 5px;
    }
.link_container .list-group-item  {
  border: none!important;
}
    #list-group-one {
      max-height: 300px;
      overflow-y: auto;
      overflow-x: hidden;
    }

    #list-group-one a,
    #list-group-two a {

      font-size: 12px;
    }

    #list-group-two {
      max-height: 300px;
      overflow-y: auto;
      overflow-x: hidden;

    }

    #list-group-one {
      flex: 1;
      /* box-shadow: 0px 0px 21px 0px rgb(0 0 0 / 19%); */
    }

    #list-group-two {
      flex: 1;
      /* box-shadow: 0px 0px 21px 0px rgb(0 0 0 / 19%); */
    }

    .limit-alert-bar {
      display: flex;
      align-items: center;
      background-color: #f3f5f7;
      border-radius: 10px;
      padding: 15px 20px;

    }

    .limit-alert-bar {
      flex-wrap: wrap;
      text-align: center;
      gap: 10px;
    }

    .upgrade-btn {
      margin-left: auto;
      background-color: #167ee6;
      color: #fff;
      border-radius: 10px;
      text-transform: uppercase;
      padding: 10px;
      font-weight: 500;
      font-size: 15px;
      transition: all 0.3s ease-in-out;
      border: 1px solid transparent;
    }

    .upgrade-btn:hover {
      background-color: transparent;
      color: #167ee6;
      border-color: #167ee6;
    }

    .upgrade-btn>img {
      margin-right: 5px;
    }

    .upgrade-btn>img {
      max-width: 18%;
    }

    #selectedDomain {
      cursor: pointer;
    }

    nav#main-navbar {
      padding-left: 0 !important;
      padding-right: 0 !important
    }

    .navbar-toggler {
      margin-right: 35px;
    }

    .img-width {
      width: 15%;
    }

    .img-widthh {
      width: 23%;
    }

    .p-7 {
      padding-left: 7%;
    }

    span#navbarNotificationCounter {
      position: absolute;
      margin-top: -0.2rem;
      font-size: 0.5rem;
      margin-left: -0.5rem;
      padding: 0.2em 0.45em;
    }

    nav#main-navbar {
      box-shadow: 0px 0px 21px 0px rgb(0 0 0 / 19%);
    }

    #main-navbar .tooltip_custom {
      background-color: #ddd;
      border: 0;
      border-radius: 9px;
      padding: 0.375rem 2.25rem 0.375rem 0.75rem;
      font-size: 1rem;
      color: #4f4f4f;
      background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath fill='none' stroke='%234f4f4f' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 0.75rem center;
      background-size: 16px 12px;
    }

    li.sidenav-item {
      height: 32px;
      padding: 4px 0 0 6px;
    }

    .show {
      display: block;
    }

    .active1 {
      background: #e2e5e8 !important;
      border-right: 3px solid var(--primary-color);
    }

    li.list-group-item.list-group-item-action.py-2.radius-0.ripple {
      margin-top: 12px;
    }


    @media only screen and (max-width:991.5px) {
      #sidebarMenu {
        margin-top: 45px;
        padding-top: 42rem
      }

      .img-width {
        width: 4%;
      }

      .setH {
        margin-top: 10px !important;
      }
    }

    @media only screen and (min-width:991.5px) {
      .p-7 {
        padding-left: none
      }
    }

    @media only screen and (max-width:900px) {
      .content {
        padding: 90px 0 0 0px;
      }

      .sidebar {
        position: fixed;
        top: -54px;
        bottom: 0;
        left: 0;
        padding: 590px 0 0;
        z-index: 600;
      }
    }

    .url_spinner {
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0 auto;
      height: 4vh;
    }

    .rounded-circle {
      height: 20px;
      width: 20px
    }

    .dropdown-item {
      font-size: 12px;
    }

    .dropdown-item:focus {
      color: black !important;
      background: #e5e5e5
    }

    #btn-schedule {
      padding: 0.375rem 1rem 0.3125rem;
      font-size: .75rem;
      line-height: 1.5;
      color: #fff;
      text-transform: uppercase;
      box-shadow: 0 2px 5px 0 rgb(0 0 0 / 20%), 0 2px 10px 0 rgb(0 0 0 / 10%);
    }

    .arrow-btn {
      background: #707070;
      border: 2px solid #000000;
      border-radius: 50%;
      padding: 10px;
      width: 72px;
      height: 73px;
    }

    #btn-schedule:focus {
      outline: 0;
      box-shadow: 0 4px 10px 0 rgb(0 0 0 / 20%), 0 4px 20px 0 rgb(0 0 0 / 10%);
    }

    .form-select:focus {
      box-shadow: none !important
    }

    html {
      position: relative;
      min-height: 100%;
    }

    .k_existingBtn {
      padding: .425rem 1.5rem 0.5rem !important;
      text-transform: uppercase;
    }

    .k_existingBtn:hover {
      box-shadow: 0 4px 10px 0 rgb(0 0 0 / 20%), 0 4px 20px 0 rgb(0 0 0 / 10%);
    }

    .pointer-events-none {
      pointer-events: none;
    }

    .sidebarList {
      margin-top: 3rem;
    }


    .notyImg {
      width: 100px !important;
      height: auto;
      margin-right: 50px;
    }

    .lni-chevron-right-circle {
      font-size: 30px !important;
    }

    .lni-chevron-left-circle {
      font-size: 30px !important;
    }

    .noty_theme__light.noty_bar .noty_body {
      padding: 10px;
    }

    .dropdown_width {
      width: 30%;
    }

    #selectedDomain {
      white-space: nowrap;
      text-overflow: ellipsis;
    }

    .responsive_selectcss {
      background-color: #ddd;
      border: 0px;
      border-radius: 9px;
      color: rgb(64, 64, 64);

    }

    @media (min-width:768px) {
      .responsive_select {
        display: none;
      }
    }

    @media (max-width:767.5px) {
      .responsive_select {
        display: block;
      }

      /* .dropdown_width {
  width:100%;
}  */

    }

    @media (max-width:600px) {
      .navbar-light .navbar-brand {
        width: 50px;
      }

      #selectedDomain {
        padding: 3px 10px;
        font-size: 12px;
      }

      .form-select {
        background-position: right
      }
    }

    /* #noty_layout__topRight {
  max-width: 90%!important;
} */
    .noty_theme__light.noty_type__error {
      background-color: #f19998 !important;
      border: 1px solid #e25353;
      color: #FFF;
    }


    .copyright-text p {
      margin: 0;
      font-size: 14px;
      color: #878787;
    }

    #footer .footer {
      border-top: 1px solid #dde3ed;
      display: grid;
      grid-gap: 16px;
      margin-left: 8px;
      margin-top: 24px;
      padding: 16px 0 0;
      font-size: 14px;
      line-height: 21px;
    }

    .footer {
      clear: both;
      position: absolute;
      left: auto;
      bottom: 0;
      width: 100%;
      background-color: transparent;
      text-align: left;
    }

    .notyellipses {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    
    }

    .checkSingle {
      margin-left: 20px;
    }

    #checkedAll {
      margin-left: 20px;
    }

    .sweap_left {
      margin-right: -70px;
      cursor: pointer;
      display: inline-block;
      border-radius: 50%;
      transition: background-color 0.3s ease;

    }

    .sweap_right {
      margin-bottom: 3px;
      margin-left: -41px;
      cursor: pointer;
      display: inline-block;
      border-radius: 50%;
      transition: background-color 0.3s ease;
    }

    .sweap_right:hover,
    .sweap_left:hover {
      background-color: #707070 !important;
      color: #fff;
      padding: 1px;
    }



    .middle_arrows {
      justify-content: center;
      align-items: center;
      height: 60vh;

    }

    .grey-box .list-group-item {
      background-color: transparent !important;
    }

    .websiteListt .modal-body .grey-box {
      box-shadow: none !important;
      height: 449px !important;
    }

    .link_loader {
      display: none;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .no-data-class {
      height: 50vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .counters h6 {
      font-size: 10px;
      line-height: 3px;
    }

    .counters span {
      font-size: 10px;
      padding: 1px 6px;
    }

    .card-form input,
	.card-form select,
	.btn-submitt {
		border: 2px solid #CED6E0;
		font-size: 18px;
		height: 50px;
		width: 100%;
		padding: 5px 12px;
		transition: .3s ease all;
		border-radius: 5px;
	}

.card-form .btn-submitt {
		border: none;
		padding: 10px;
		font-size: 15px;
		color: #fff;
		background: #707070;
		box-shadow: 2px 2px 10px 0px rgba(0, 85, 212, 0.4);
		cursor: pointer;

	}

	.card-form .btn-submitt:hover {
		outline: 0;
		box-shadow: 0 4px 10px 0 rgb(0 0 0 / 20%), 0 4px 20px 0 rgb(0 0 0 / 10%);
	}
  </style>
</head>

<body>
  <div class="modal fade" id="chooseLocation" tabindex="-1" aria-labelledby="chooseDataLabel" aria-hidden="true">
    <div class="modal-dialog modal-md modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body text-center" style="padding:20px 40px 40px 40px;">
          <img decoding="async" alt="Banner illustration" src="{%static '/site_audit/assets/img/global.png' %}"
            style="width:100px; height:100px">
          <h4 class="modal-title" id="chooseDataLabel">Please select the country where you do the most business</h4>
          <p>You can switch countries and we highly recommend it if it is not currently set to the country where you
            do the most business! That said, we don’t suggest switching very often as it does use some of the data we
            have allotted to your account and any existing keyword opportunities in the currently selected country
            will be erased. However, will we automatically begin looking for new opportunities in the country you
            change it to. If you need guidance or help, please email us at: support@seocheckup.com</p>
          <select class="form-select CountrySelect" required name="country" id="searchedLocation"></select>
          <div class="modal-footer"
            style="margin: 10px auto;display: grid;grid-gap: 9px;margin-top: 20px;width: 100%;max-width: 430px;grid-template-columns: 1fr 1fr;padding: 0;">
            <button class="country-change-confirmation-submit-btn btn btn-primary k_changeBtn" type="button">Change
              country
            </button>
            <button class="country-change-confirmation-cancel-btn btn btn-outline-primary" type="button">Keep
              existing</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <nav id="sidebarMenu" class="collapse d-xl-block  d-lg-block  d-none sidebar collapse bg-white sideBarDrop">
    <div class="position-sticky">
      <div
        class="list-group list-group-flush text-center justify-content-center align-items-center list-items sidebarList ">
        <a href="/site_audit/dashboard/" class="list-group-item list-group-item-action py-2 ripple pointer-eve"
          aria-current="true">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/dashboard.svg'%}" class="img-fluid pb-2" alt="" />
            <br />
            <span>Dashboard</span>
          </div>
        </a>
        <a href="/site_audit/ganalytics_page/" class="list-group-item list-group-item-action py-2 ripple pointer-eve"
          aria-current="true">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/GAnalytics.svg'%}" class="img-fluid pb-2" alt="" />
            <br />
            <span>G Analytics</span>
          </div>
        </a>

      <!--  <ul class="navitemsdrop m-0 w-100 pointer-eve">
          <li class="list-group-item list-group-item-action py-2 radius-0 ripple setH ">
            <a data-bs-toggle="collapse" href=".GAnalytics_dropdownn" class="" aria-expanded="true">
              <div class="text-center">
                <img src="{%static '/site_audit/assets/GAnalytics.svg'%}" class="img-fluid pb-2" alt="" />
                <br />
                <span class="text-gery font-14 ">G Analytics</span>
              </div>
            </a>
            <ul class="sidenav-collapse sideBar-collapse text-left mt-3 collapse GAnalytics_dropdownn" id="">
              <li class="sidenav-item">
                <a href="/site_audit/audience_overview/" class="sidenav-link ripple-surface font-10 text-gery"><img
                    src="{%static '/site_audit/assets/GAnalytics.svg'%}" class="img-fluid me-1" width="10" height="10"
                    alt="" />
                  Audience Overview</a>
              </li>
              <li class="sidenav-item border-left-bf">
                <a href="/site_audit/behavior_overview/" class="sidenav-link ripple-surface font-10 text-gery"><img
                    src="{%static '/site_audit/assets/GAnalytics.svg'%}" class="img-fluid me-1" width="10" height="10"
                    alt="" />
                  Behavior Overview</a>
              </li>
              <li class="sidenav-item border-left-bf">
                <a href="/site_audit/acquisitions_overview/" class="sidenav-link ripple-surface font-10 text-gery"><img
                    src="{%static '/site_audit/assets/GAnalytics.svg'%}" class="img-fluid me-1" width="10" height="10"
                    alt="" />
                  Acquisition Overview</a>
              </li>
              {% comment %} <li class="sidenav-item border-left-bf">
                <a href="/site_audit/url_analysis/" class="sidenav-link ripple-surface font-10 text-gery"><img
                    src="{%static '/site_audit/assets/GAnalytics.svg'%}" class="img-fluid me-1" width="10" height="10"
                    alt="" />
                  URL Analysis</a>
              </li> {% endcomment %}
            </ul> 
          </li> -->

          {% comment %} <li class="list-group-item list-group-item-action py-2 radius-0 ripple">
            <a data-bs-toggle="collapse" href="#crawler-drpdwn">
              <div class="text-center">
                <img src="{%static '/site_audit/assets/spider-active1.svg'%}" class="img-fluid ms-1" alt="" />

                <br />
                <span class="font-14 mb-3 text-gery">Crawler</span>
              </div>
            </a> {% endcomment %}

            <a href="/site_audit/crawler/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
              <div class="text-center">
                <img src="{%static '/site_audit/assets/spider-web.png'%}" class="img-fluid pb-2" alt="" />
                <br />
                <span style="color: #707070">Crawler </span>
              </div>
            </a>
        </ul>
        <a href="/site_audit/tools/"
          class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/core_vital.png'%}" class="img-fluid pb-2 img-width" alt="" />
            <br />
            <span>Tools</span>
          </div>
        </a>
        {% comment %} <a href="/site_audit/seo_website_issues/"
          class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/WWW-Icon.png'%}" class=" img-fluid pb-2 img-width" alt="" />
            <br />
            <span>Website issues</span>
          </div>
        </a> {% endcomment %}
        <a href="/site_audit/backlinks/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/backlinks.svg'%}" class="img-fluid pb-2" alt="" />
            <br />
            <span>My Backlinks</span>
          </div>
        </a>

        <a href="/site_audit/alerts/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/alert_news.svg'%}" class="img-fluid pb-2" alt="" />
            <br />
            <span>Alert News</span>
          </div>
        </a>
        <a href="/site_audit/rank_guard/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/rank-guard.svg'%}" class="img-fluid pb-2" alt="" />
            <br />
            <span>Rank Guard </span>
          </div>
        </a>
        <a href="/site_audit/my_keywords/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/keywords.svg'%}" class="img-fluid pb-2" alt="" />
            <br />
            <span>My Keywords </span>
          </div>
        </a>

        <a href="/site_audit/discover_keywords/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/search.svg'%}" class="img-fluid pb-2" alt="" /> <br />
            <span>Discover Keywords</span>
          </div>
        </a>
        <a href="/site_audit/competitors/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/user.svg'%}" class="img-fluid pb-2" alt="" />
            <br />
            <span>My Competitors</span>
          </div>
        </a>
        {% comment %} <a href="/site_audit/geo_location/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <i class="fa-solid fa-location-dot img-fluid pb-2" style='font-size: 23px;'></i>
            <br />
            <span>Geo Location</span>
          </div>
        </a> {% endcomment %}
        {% comment %} <a href="/site_audit/seo_ai/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/seo-ai.svg'%}" class="img-fluid pb-2 img-widthh" alt="" />
            <br />
            <span>AI SEO Planner</span>
          </div>
        </a> {% endcomment %}


        {% comment %} <a href="/site_audit/social_analytics/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/social.svg'%}" class="img-fluid pb-2" alt="" />

            <br />
            <span>Social Analytics</span>
          </div>
        </a> {% endcomment %}

        <a href="/site_audit/settings/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            {% comment %} <img src="{%static '/site_audit/assets/Mediamodifier-Design.svg'%}" class="img-fluid pb-2"
              alt="" /> {% endcomment %}
            <i class="fa fa-thin fa-gear" style="font-size:20px; color: #929292"></i>

            <br />
            <span>Settings</span>
          </div>
        </a>


     <!--  <ul class="navitemsdrop m-0 w-100 pointer-eve">
          <li class="list-group-item list-group-item-action py-2 radius-0 ripple setH ">
            <a data-bs-toggle="collapse" href=".User-Preferences" class="" aria-expanded="true">
              <div class="text-center">
                <img src="{%static '/site_audit/assets/users_preferences.png'%}" class=" img-fluid pb-2 img-width"
                  alt="" />
                <br />
                <span class="text-gery font-14 ">User Preferences</span>
              </div>
            </a>
            <ul class="sidenav-collapse sideBar-collapse text-left mt-3 collapse User-Preferences" id="">
              <li class="sidenav-item">
                <a href="/payment/view_invoice_list/" class="sidenav-link ripple-surface font-10 text-gery">
                  <i class="fa-solid fa-file-invoice" style="font-size: 12px; color: gray;"></i>
                  View Invoice List</a>
              </li>
              <li class="sidenav-item border-left-bf">
                <a href="/subscription/payment_list/" class="sidenav-link ripple-surface font-10 text-gery">
                  <i class="fa-regular fa-credit-card" style="font-size: 12px; color: gray;"></i>
                  View Payments</a>
              </li>
              <li class="sidenav-item border-left-bf">
                <a href="/subscription/manage_credit_card/" class="sidenav-link ripple-surface font-10 text-gery">
                  <i class="fa-sharp fa-solid fa-pen-to-square" style="font-size: 12px; color: gray;"></i>
                  Manage Credit Cards</a>
              </li>
              <li class="sidenav-item border-left-bf">
                <a href="/subscription/membership/" class="sidenav-link ripple-surface font-10 text-gery">
                  <i class="fa-solid fa-id-card" style="font-size: 12px; color: gray;"></i>
                  Membership</a>
              </li>
              <li class="sidenav-item border-left-bf">
                <a href="/subscription/user_consumed_units/" class="sidenav-link ripple-surface font-10 text-gery">
                  <i class="fa-sharp fa-solid fa-pen-to-square" style="font-size: 12px; color: gray;"></i>
                  User Consumed Units</a>
              </li>
            </ul>
          </li>
        </ul> -->
        <a id="plan_details_li" href="/site_audit/plan_details_page/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            {% comment %} <img src="{%static '/site_audit/assets/Mediamodifier-Design.svg'%}" class="img-fluid pb-2"
              alt="" /> {% endcomment %}
              <i class="fas fa-tasks" style="font-size: 20px; color: gray;"></i>
            <br />
            <span>Plan Details</span>
          </div>
        </a>


      <!--  <ul id="plan_details_li" class="navitemsdrop m-0 w-100 pointer-eve">
          <li class="list-group-item list-group-item-action py-2 radius-0 ripple setH ">
            <a data-bs-toggle="collapse" href=".Plan-Details" class="" aria-expanded="true">
              <div class="text-center">
                <i class="fas fa-tasks" style="font-size: 20px; color: gray;"></i>
                {% comment %} <img src="{%static '/site_audit/assets/users_preferences.png'%}"
                  class=" img-fluid pb-2 img-width" alt="" /> {% endcomment %}
                <br />
                <span class="text-gery font-14 ">Plan Details</span>
              </div>
            </a>
            <ul class="sidenav-collapse sideBar-collapse text-left mt-3 collapse Plan-Details" id="">
              <li class="sidenav-item">
                <a href="/subscription/add_modules/" class="sidenav-link ripple-surface font-10 text-gery">
                  <i class="fa-solid fa-file-invoice" style="font-size: 12px; color: gray;"></i>
                  Add Module</a>
              </li>
              <li class="sidenav-item border-left-bf">
                <a href="/subscription/add_plan_modules/" class="sidenav-link ripple-surface font-10 text-gery">
                  <i class="fa-regular fa-credit-card" style="font-size: 12px; color: gray;"></i>
                  Add Plans</a>
              </li>
              <li class="sidenav-item border-left-bf">
                <a href="/subscription/edit_plans/" class="sidenav-link ripple-surface font-10 text-gery">
                  <i class="fa-sharp fa-solid fa-pen-to-square" style="font-size: 12px; color: gray;"></i>
                  Edit Plans</a>
              </li>

              <li class="sidenav-item border-left-bf">
                <a href="/subscription/view_consumed_units/" class="sidenav-link ripple-surface font-10 text-gery">
                  <i class="fa-sharp fa-solid fa-pen-to-square" style="font-size: 12px; color: gray;"></i>
                  All User Consumed Units</a>
              </li>

              <li class="sidenav-item border-left-bf">
                <a href="/payment/view_all_invoices/" class="sidenav-link ripple-surface font-10 text-gery">
                  <i class="fa-solid fa-id-card" style="font-size: 12px; color: gray;"></i>
                  All Invoices</a>
              </li>
              <li class="sidenav-item border-left-bf">
                <a href="/payment/view_all_payments/" class="sidenav-link ripple-surface font-10 text-gery">
                  <i class="fa-solid fa-id-card" style="font-size: 12px; color: gray;"></i>
                  All Payments</a>
              </li>
            </ul>
          </li>
        </ul> -->
        <a href="/site_audit/project_listview/" class="list-group-item list-group-item-action py-2 ripple pointer-eve">
          <div class="text-center">
            <i class="fas fa-tasks" style="font-size: 20px; color: gray;"></i>
            <br />
            <span>Project List</span>
          </div>
        </a>

        <a href="javascript:void();" data-bs-toggle="modal" data-bs-toggle="modal" data-bs-target="#addToMyWebsite"
          id="btn-add" class="list-group-item list-group-item-action py-2 ripple pointer-eve" style="box-shadow:none">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/mathematics-sign-plus-outline-icon.svg'%}"
              class="img-fluid pb-2 img-width" alt="" />
            <br />
            <span>Add Website</span>
          </div>
        </a>

        <a href="/accounts/logout/" title="Logout" class="list-group-item list-group-item-action py-2 ripple">
          <div class="text-center">
            <img src="{%static '/site_audit/assets/logout.svg'%}" class="img-fluid pb-2" alt="" />
            <br />
            <span>Logout</span>
          </div>
        </a>
        <div>
          <!-- Mobile -->
          <div class="list-group list-group-flush mt-4 d-block d-lg-none d-md-none d-sm-block">
            <hr />

            <div></div>
          </div>
        </div>
      </div>
    </div>
  </nav>
  <!-- Navbar -->
  <nav id="main-navbar" class="navbar navbar-expand-lg navbar-light bg-blue fixed-top">
    <!-- Container wrapper -->
    <div class="container-fluid">
      <!-- Toggle button -->
      <button class="navbar-toggler" id="btn-toggle" type="button" data-bs-toggle="collapse"
        data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars"></i>
      </button>
      <!-- Brand -->
      <a class="navbar-brand" href="/">
        <img src="{%static '/site_audit/assets/logoo.svg'%}" class="img-fluid" alt="" width="10" height="" alt="logo"
          loading="lazy">
      </a>
      <!-- Search form -->
      <form class="d-md-flex m-auto dropdown_width my-auto align-items-center">
        <div class="domain-dropdown-main">

          <!-- <div class="url" id="url" class="text-white"></div> <span class="tooltiptext web_tooltip_html">
              </span> -->
          <select id="selectedDomain" name="urls" class="form-select  radio" aria-label="Default select example">
          </select>
        </div>
      </form>
      <div
        class="d-none d-lg-block d-md-none d-sm-none col-xl-4 w-auto my-auto align-items-center justify-content-center p-7">
        <span class="me-2 text-gery">Need help?</span> <a href="#" id="btn-schedule" class="btn btn-primary btn-sm"
          data-bs-toggle="modal" data-bs-target="#exampleCentralModal4">Schedule an Appointment</a>
      </div>
      <div class="d-none d-lg-block d-md-none d-sm-none ms-auto d-flex">
        <ul class="navbar-nav ms-auto d-flex flex-row ">
          <!-- Icon -->
          <li class="nav-item mob-none">
            <a class="nav-link me-3" href="/site_audit/pricing/">
              Pricing
            </a>
          </li>
          <!-- Icon -->
          <li class="nav-item me-3 mob-none">
            <a class="nav-link" href="/site_audit/seo_services/">
              Services
            </a>
          </li>
          <li class="nav-item me-3 mob-none">
            <a class="nav-link" href="/site_audit/support/">
              Support
            </a>
          </li>
          <!-- Avatar -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle hidden-arrow d-flex align-items-center" href="#"
              id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <img src="{%static '/site_audit/assets/avatar.png'%}" class="rounded-circle" height="28" alt=""
                loading="lazy" />
            </a>
            <ul class="dropdown-menu dropdown-menu-end my-auto  m-auto" aria-labelledby="navbarDropdownMenuLink">
              <li><a class="dropdown-item" href="" style="font-size:14px;text-transform:capitalize;font-weight: 500;"><i
                    class="fa fa-user float-end"></i> {{user.first_name}} </a></li>
              <div class="divider"></div>

              <li><a class="dropdown-item" href="">Account</a></li>
              <li><a class="dropdown-item" href="/site_audit/pricing">Pricing</a></li>
              <li><a class="dropdown-item" href="">Billing</a></li>
              <li><a class="dropdown-item" href="">Data Chanel</a></li>
              <li><a class="dropdown-item" href="">Profile</a></li>
              <li><a class="dropdown-item" href="/user_management/password_change/">Change Password</a></li>
              <li><a href="/accounts/logout/" id="logout" class="dropdown-item" id="logout">Logout</a></li>
            </ul>
          </li>
        </ul>
      </div>
      <!-- Mobile -->
      <div class="d-block d-lg-none d-md-block d-sm-block">
        <ul class="navbar-nav ms-auto d-flex flex-row">
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle hidden-arrow d-flex align-items-center" href="#"
              id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <!-- Admin <i class="fa fa-angle-down px-2"> </i> -->
              Admin
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
              <li><a class="dropdown-item" href="">Account</a></li>
              <li><a class="dropdown-item" href="">Pricing</a></li>
              <li><a class="dropdown-item" href="">Billing</a></li>
              <li><a class="dropdown-item" href="">Data Chanel</a></li>
              <li><a class="dropdown-item" href="">Profile</a></li>
              <li><a class="dropdown-item" href="">Logout</a></li>
            </ul>
          </li>
        </ul>
      </div>

    </div>
    <!-- Container wrapper -->
  </nav>
  <!-- Navbar -->
  <!-- Book An appoinment -->
  <div class="modal fade" id="exampleCentralModal4" tabindex="-1" aria-labelledby="exampleModalLabel"
    data-gtm-vis-first-on-screen-2340190_1302="26215" data-gtm-vis-total-visible-time-2340190_1302="100"
    data-gtm-vis-has-fired-2340190_1302="1" aria-modal="true" role="dialog">
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="text-center">
            <h4 class="font-20 fw-600">Need Help?
            </h4>
            <p class="font-13 text-center">Our experienced Growth Experts offer 15-minute website and
              WebsiteRankingExpert analytics
              review meetings to our members <b> M-F, 9am-5pm MT.</b> Or do you live in a time zone that
              doesn’t work with
              our open hours? <b> Email us: <a class="font-13"
                  href="mailto:support@websiterankingexpert.com">support@websiterankingexpert.com</a> </b>
              Need some quick help on learning how to use WebsiteRankingExpert? Start by watching this
              in-depth tutorial video.</p>
            <div class="row justify-content-center p-3">
              <div class="col-10">
                <iframe width="380" height="270" src="" title="WebsiteRankingExpert Dashboard Tutorial" frameborder="0"
                  allowfullscreen></iframe>
                <a href="#" class="btn btn-primary">Schedule an appointment</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="addToMyWebsite" tabindex="{-1}" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" />
        </div>
        <div class="modal-body">
          <div class="d-flex justify-content-center">
            <h4 class="font-22 mb-3">Import Website</h4>
          </div>

          <div class="addMyWeb-body">
            <h4 class="font-16 fw-600 text-gray">Active websites</h4>
            <h5 class="text-gray font-14 fw-400 mb-3">
              Enter URL / domain name
            </h5>
            <form action="" class="form">
              <!-- Search input -->
              <div class="form-outline mb-3">
                <input type="text" class="form-control web_url" placeholder="Yourwebsite.com" id="DetectUrl" />
                <!-- <label class="form-label" for="form2Example1" style="margin-left: 0px;">Yourwebsite.com</label> -->

                <span id="responseText" class="mt-5"></span>
              </div>
              <button type="submit" id="detect_exis_url" class="btn btn-prim mb-3">
                DETECT
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade " id="upgradeSub" tabindex="{-1}" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-body">
          <div class="limit-alert-bar mt-md-4 mt-4 mb-md-4 mx-4 mb-4 justify-content-center">
            <div class="limit-alert">
              <img src="../../static/site_audit/assets/limit-alert.png" alt="limit-alert" />
            </div>
            <p class="font-14 text-black m-0">
              You've reached your limits for the free plan. You can see more by
              upgrading to the higher plan.
            </p>
            <a href="/subscription/upgrade_subscription/" class="upgrade-btn mx-0">
              <img src="../../static/site_audit/assets/king.png" alt="king" />
              Upgrade plan
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal fade websiteListt" id="rem_attr_modal" tabindex="{-1}" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
      <div class="modal-content">
        <div class="modal-header">
         <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"  id="center-modal-btn-close"  > </button> -->
        </div>
        <div class="modal-body">
          <div class="row justify-content-center">
            <div class="col-md-5">
              <div class="grey-box  mb-3 px-3 pt-3">
                <div class="d-flex justify-content-between counters align-items-center">
                  <h5>Select Links for crawl</h5>
                  <div>
                    <h6>
                      Allowed pages : <span class="allowed_Pages badge badge-secondary e">0</span>
                    </h6>
                    <h6>
                      Selected pages : <span class="selected_Pages badge badge-secondary ">0</span>
                    </h6>
                  </div>
                </div>
                <div>
                  <input placeholder='Search..' class='form-control me-2 mb-3' type="text" name="searchLeft"
                    id="searchLeft" />
                </div>
                 <input type="checkbox" name="checkedAll_left" id="checkedAll_left" checked /> <span id="SelectAll_left">Select All</span> 
                <div class="link_loader" style='height: 60vh;'>
                  <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                  </div>
                </div>
                <div class="list-group mt-2 " id="list-group-one">
                </div>
              </div>
            </div>
            <div class="col-md-1 d-flex middle_arrows">
              <div>
                <i class="lni lni-chevron-right-circle sweap_right" data-bs-toggle="tooltip" data-bs-placement="top"
                  title="Swap Right"> </i>
                <br>
                <i class="lni lni-chevron-left-circle sweap_left" data-bs-toggle="tooltip" data-bs-placement="top"
                  title="Swap Left"></i>
              </div>
            </div>
            <div class="col-md-5">
              <div class="grey-box  mb-3 px-3 pt-3">
                <h5>Submit links to crawl</h5>
                <div>
                  <input placeholder='Search..' class='form-control me-2 mb-3' type="text" name="searchRight"
                    id="searchRight" />
                </div>
                <input type="checkbox" name="checkedAll_right" id="checkedAll_right" /> <span
                  id="SelectAll_right">Select All</span>
                <div class="list-group mt-2 " id="list-group-two">
                  <div class="link_loader">
                    <div class="spinner-border text-primary" role="status">
                      <span class="visually-hidden">Loading...</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="float-end">
            <button class="btn btn-danger mt-2 me-2" id="center-modal-btn-close" data-bs-dismiss="modal" style="display: none">Close</button>
            <button class="btn btn-primary mt-2" id="submit_links" disabled> <span
                class="spinner-border spinner-border-sm d-none" role="status" id="submit_loader"
                aria-hidden="true"></span> Submit</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <main>

    <div class="modal fade" id="subscription_modal" tabindex="{-1}" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-sm">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" />
          </div>
          <div class="modal-body p-0 ">
            <div class="d-flex justify-content-center">
              <h4 class="font-22 mb-3 modal_title">Buy a subscription</h4>
            </div>
            <div class="addMyWeb-body d-flex justify-content-center">
              <button type="button" id="buy_subscription" class="btn btn-prim btn-sm mb-3 ">
                
                  <span class="health_spinner_webb" style='display: none;'>
                      <div class="spinner-border spinner-border-sm" role="status">
                          <span class="visually-hidden">Loading...</span>
                      </div>
                  </span>
    
    
               Yes
              </button>
              <button type="button" class="btn btn-prim btn-sm mb-3 mx-1 " data-bs-dismiss="modal" aria-label="Close" >
               No
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="modal fade" id="cardInfoModal" tabindex="{-1}" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" />
          </div>
          <div class="modal-body">
            <div class="d-flex justify-content-center">
              <h4 class="font-22 mb-3">Import Website</h4>
            </div>
    <!-- Form -->
    <form action="" id="card-form" class="card-form payment">
      <input type="hidden" name="card_token " id="token" />
      <span class="brand"><i class="pf pf-credit-card" id="brand-icon"></i></span>
      <div class="">
          <!--<label>Card Number</label> -->
          <div id="cc-number" class="form-control mb-3">
              <!-- a Stripe Element will be inserted. -->
          </div>
          <!-- <label>Expiration</label>-->
          <div id="cc-exp" class="form-control mb-3">
              <!-- a Stripe Element will be inserted. -->
          </div>
          <!-- <label>CVC</label> -->
          <div id="cc-cvc" class="form-control mb-3">
              <!-- a Stripe Element will be inserted. -->
          </div>
    
      </div>
      <div class="d-flex justify-content-center">
          <button type="submit" class="btn--payment btn-submitt  btn-block"
              style="width:50%">
              <span class="card-spinner" style='display: none;'>
                  <div class="spinner-border spinner-border-sm" role="status">
                      <span class="visually-hidden">Loading...</span>
                  </div>
              </span>
              Confirm
          </button>
      </div>
      <!-- <button type="button" class="btn--save">Save</button> -->
      <div class="outcome">
          <div class="error text-red"></div>
          <div class="success text-green">
              Success! Your Stripe token is <span class="token"></span>
          </div>
      </div>
    </form>
          </div>
        </div>
      </div>
    </div>

    {% block content %}
    {% endblock %}
    {% block footer %}
    <br>
    <br>
    <div id="footer">
      <div class="footer">
        <div class="copyright-text ml-5">
          <p>© 2022-2023 WebsiteRankingExpert. All rights reserved</p>
        </div>
      </div>
    </div>
    {% endblock %}
  </main>
  <script src="{% static 'site_audit/libs/jquery/jquery.js' %}"></script>
  <script src="{% static 'site_audit/js/bootstrap.bundle.js' %}"></script>
  <script src="{% static 'site_audit/libs/jquery-ui-1.12.1/jquery-ui.js' %}"></script>
  <script type="text/javascript" src="{% static 'site_audit/assets/js/moment.js' %}"></script>
  <script type="text/javascript" src="{% static 'site_audit/js/sweetAlert2.js' %}"></script>
  <script type="text/javascript"
    src="{% static 'site_audit/assets/js/responsiveTables/responsiveTables.js' %}"></script>
  <!-- month picker -->
  <script type="text/javascript" src="{% static 'site_audit/assets/js/dynamicDataTable2.js' %}"></script>
  <script src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript" src="{% static 'site_audit/js/multiselect.js' %}"></script>
  <script type="text/javascript" src="{% static 'site_audit/js/dateRangePicker.js' %}"></script>
  <script src="https://code.highcharts.com/maps/highmaps.js"></script>
  <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
  <script>
    var googleAnalyticsCharged = "{{is_google_analytics_charged}}"
    // console.log("hoo", googleAnalyticsCharged)
    // googleAnalyticsCharged = "False"
    // console.log("hoo", googleAnalyticsCharged)
$(".conect_g_analytics_neww").on('click', function () {
	$(".health_spinner_webb").hide()
	$('#buy_subscription').prop("disabled", false);
	$.ajax({
		method: 'GET',
		url: `/subscription/check_service_subscription/`,
		success: function (response) {
			// console.log("new respin", response)
			if (response.status) {
				$('.top_spinner').show();
				$(".google_spinner").css("opacity", "1")
				$('.google_spinner1').css('opacity', '1');
				var project_id = $('.radio :selected').first().attr('data-id')
				const perm_url = window.location.origin + '/site_audit/get_auth_url/?project_id=' + project_id;
				$.ajax({
					method: 'GET',
					url: perm_url,
					success: function (response) {
						if (response.status) {
							$('.top_spinner').hide();
							let auth_url = response.auth_url;
							window.location.href = auth_url
						} else {
							ShowNoty('Somthing went wrong', 'error');
							$('.top_spinner').hide();
							// $('.google_spinner').hide();
							$(".google_spinner").css("opacity", "0")
							$('.google_spinner1').css('opacity', '0');

						}
					}
				})
			} else {
        if(googleAnalyticsCharged === "True")
        {
          $.ajax({
					method: 'GET',
					url: '/payment/check_user_card/',
					success: function (response) {
						if (response.status) {
							$("#subscription_modal").modal('show')
						} else {
							$("#cardInfoModal").modal("show")
						}
					}
				})
        }
			else{
        var project_id = $('.radio :selected').first().attr('data-id')
				const perm_url = window.location.origin + '/site_audit/get_auth_url/?project_id=' + project_id;
				$.ajax({
					method: 'GET',
					url: perm_url,
					success: function (response) {
						if (response.status) {
							$('.top_spinner').hide();
							let auth_url = response.auth_url;
							window.location.href = auth_url
						} else {
							ShowNoty('Somthing went wrong', 'error');
							$('.top_spinner').hide();
							// $('.google_spinner').hide();
							$(".google_spinner").css("opacity", "0")
							$('.google_spinner1').css('opacity', '0');

						}
					}
				})
      }
			}
		}
	})
})

     // function for getting image types data 
    //  $(document).ready(function() {
    //   $(".crawl-spinner").show();
    //   $(".crawl-spinner").hide(1000, function() {
    //     $("#page_total").show();
    //     $('#total-crawler-pages').show()
    //     $("#blocked").html("-");
    //     $("#healthy").html("-");
    //     $("#redirects").html("-");
    //     $("#broken").html("-");
    //     $("#total-crawler-page").html("-");
    //     $("#total-web-page").html("-");
    //     $("#total-crawler-pages").html("-");
    //     $("#percentage_count").html("-");
    //   });
    // });
    
// function dashboard(url) {
//   $.ajax({
//     type: "GET",
//     url: "/crawler/images_type/?website_url=" + url,
//     dataType: "json", // expect html to be returned,
//     success: function (response) {
//       //$('.crawl-spinner').hide()
//       $("#tb_loader").hide();
//       $("#pages_circle").show();
//       $(".img_spinner1").hide();
//       if (response.status === true) {
        
//         var web_scores = response.crawl_pages_detail;
//         if (web_scores && web_scores !== undefined) {
//           $("#broken").html("");
//           if (
//             web_scores &&
//             web_scores.broken >= 0 &&
//             web_scores.broken !== undefined
//           ) {
//             $("#broken").html(`${web_scores.broken}`);
//           } else {
//             $("#broken").html("-");
//           }
//           $("#redirects").html("");
//           if (
//             web_scores &&
//             web_scores.redirects >= 0 &&
//             web_scores.redirects !== undefined
//           ) {
//             $("#redirects").html(`${web_scores.redirects}`);
//           } else {
//             $("#redirects").html("-");
//           }
//           $("#healthy").html("");
//           if (
//             web_scores &&
//             web_scores.healthy >= 0 &&
//             web_scores.healthy !== undefined
//           ) {
//             $("#healthy").html(`${web_scores.healthy}`);
//           } else {
//             $("#healthy").html("-");
//           }
//           $("#blocked").html("");
//           if (
//             web_scores &&
//             web_scores.blocked >= 0 &&
//             web_scores.blocked !== undefined
//           ) {
//             $("#blocked").html(`${web_scores.blocked}`);
//           } else {
//             $("#blocked").html("-");
//           }
//         } else {
//           $("#blocked").html("-");
//           $("#healthy").html("-");
//           $("#redirects").html("-");
//           $("#broken").html("-");
//         }

//         var total_crawl_pages_count = response.total_crawl_pages_count;
//         var total_webpages_count = response.total_webpages_count;
//         var percentage_count = Math.floor(
//           (total_crawl_pages_count * 100) / response.total_webpages_count
//         );
//         if (
//           percentage_count !== undefined &&
//           total_crawl_pages_count !== undefined &&
//           total_webpages_count !== undefined
//         ) {
//           $("#total-crawler-pages").html(
//             total_crawl_pages_count + "  " + "Pages"
//           );
//           $("#percentage_count").text(percentage_count + "%");
//           $("#page_total").html(
//             ` <span id="total-crawler-page">${total_crawl_pages_count}</span>/<span id="total-web-page">${total_webpages_count}</span>`
//           );
//           $(".crawl-spinner").hide();
//           $("#total-crawler-pages").show();
//           $("#page_total").show();
//         }
//         // crawler page start
//         var total_crawl_pages_count = response.total_crawl_pages_count;
//         var total_webpages_count = response.total_webpages_count;
//         var percentage_count;
//         if (total_webpages_count >= total_crawl_pages_count) {
//           percentage_count = Math.floor(
//             (total_crawl_pages_count * 100) / response.total_webpages_count
//           );

//           $("#total-crawler-page").html(total_crawl_pages_count);
//           $("#total-web-page").html(total_webpages_count);
//           $("#percentage_count").text(percentage_count + "%");
//           $("#spider_img").attr("data-move", percentage_count);
//           $(".crawl-spinner").hide();
//           $("#total-crawler-pages").show();
//           $("#page_total").show();
//         } else {
//           $("#blocked").html("-");
//           $("#healthy").html("-");
//           $("#redirects").html("-");
//           $("#broken").html("-");

//           $("#total-crawler-page").html("-");
//           $("#total-web-page").html("-");
//           $("#total-crawler-pages").html("-");
//           $("#percentage_count").html("-");
//           $(".crawl-spinner").hide();
//           $("#total-crawler-pages").show();
//           $("#page_total").show();
//         }
//       } else if (
//         response.status === false &&
//         response.crawl_request_inprocess === true
//       ) {
      
//         ShowNoty("Crawl data in process", "warning");
//       } 
//       else if(response.status === false &&
//         response.crawl_request_inprocess === false) {
//          ShowNoty(response.error, "error");

//         }else{
       
//         $("#total-crawler-page").html("-");
//         $("#total-web-page").html("-");
//         $("#total-crawler-pages").html("-");
//         $("#percentage_count").html("-");
//         $(".crawl-spinner").hide();
//         $("#total-crawler-pages").show();
//         $("#page_total").show();
       
//         $("#noty_layout__topRight")
//           .find("span:nth-child(2)")
//           .attr("title", `${response.error}`);
//         $("#noty_layout__topRight")
//           .find("span:nth-child(2)")
//           .addClass("text-elipses");
//         $("#blocked").html("-");
//         $("#healthy").html("-");
//         $("#redirects").html("-");
//         $("#imagesCount_spinner").hide();
//         $("#broken").html("-");
//       }
//     },
//   });
// }

      // images function end
    // Get the input element and the list of links
    // Get the input element and the list of checkboxes with their respective links
    // Add an event listener to the search input to capture user input
    // console.log( "{{is_google_analytics_charged}}","hello")
    var pages_allowed
    $(document).ready(function () {
      $('#searchLeft').keyup(function () {
        var searchVal = $(this).val().toLowerCase();
        var keywords = searchVal.split(" ");
        $('.list-group-item2').each(function () {
          var text = $(this).find('.list-group-item').text().toLowerCase();
          var matchFound = true;
          for (var i = 0; i < keywords.length; i++) {
            if (text.indexOf(keywords[i]) == -1) {
              matchFound = false;
              break;
            }
          }
          if (matchFound) {
            $(this).parent().show();
          } else {
            $(this).parent().hide();
          }
        });
      });
      $('#searchRight').keyup(function () {
        var searchVal2 = $(this).val().toLowerCase();
        var keywordss = searchVal2.split(" ");
        $('.list-group-item3').each(function () {
          var textt = $(this).find('.list-group-item').text().toLowerCase();
          var matchFoundd = true;
          for (var i = 0; i < keywordss.length; i++) {
            if (textt.indexOf(keywordss[i]) == -1) {
              matchFoundd = false;
              break;
            }
          }
          if (matchFoundd) {
            $(this).parent().show();
          } else {
            $(this).parent().hide();
          }
        });
      });
    });
    function urlParse() {
      var sPageURL = window.location.pathname
      var urlSplit = sPageURL.split('/');
      return urlSplit;
    }
    var website_regex = new RegExp(/^(http[s]?:\/\/(www\.)?|ftp:\/\/(www\.)?|www\.){1}([0-9A-Za-z-\.@:%_\+~#=]+)+((\.[a-zA-Z]{2,3})+)(\/(.)*)?(\?(.)*)?/g);
    $(function () {
      $("[data-bs-toggle='tooltip']").tooltip();
    });
  </script>
  <!-- noty -->
  <script>
    $('[data-toggle="tooltip"]').tooltip();
    (function ($) {
      $.fn.inputFilter = function (inputFilter) {
        return this.on("input keydown keyup mousedown mouseup select contextmenu drop", function () {
          if (inputFilter(this.value)) {
            this.oldValue = this.value;
            this.oldSelectionStart = this.selectionStart;
            this.oldSelectionEnd = this.selectionEnd;
          } else if (this.hasOwnProperty("oldValue")) {
            this.value = this.oldValue;
            this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
          } else {
            this.value = "";
          }
        });
      };
    }(jQuery));
    $(document).on('remove keyup', '.select2-search__field', function (event) {
      var selectedOptions = $(".select2-selection__choice").text().split("×")[1];
      if ($(this).val() == selectedOptions) {
        if ($(".select2-selection > .error").length === 0) {
          $(".select2-selection").append("<small class='error text-danger'>Already exists !</small>");
        }
      }
      else {
        $(".select2-selection > .error").remove();
      }
    });
    $(".onlyNumber").inputFilter(function (value) {
      return /^\d*[.,]?\d*$/.test(value)
    });
    // popover
    $(document).ready(function () {
      // prevent modal to close on outside the modal
      $('.modal').modal({
        backdrop: 'fixed',
        keyboard: false
      })
      $('[data-toggle="popover"]').popover({
        title: function () {
          return $(this).attr('title');
        },
        content: function () {
          return $(this).attr('data-content');
        },
        trigger: 'hover'
      });
    });
    // Ajax Loader
    xhrPool = [];
    $.ajaxSetup({
      beforeSend: function (jqXHR) {
        xhrPool.push(jqXHR);
      }
    })
    $(function () {
      var current = location.pathname;
      $('.nav li a').each(function () {
        var $this = $(this);
        // if the current path is like this link, make it active
        if ($this.attr('href').indexOf(current) !== -1) {
          $this.addClass('active');
        }
      })
    });
    $(document).ready(function () {
      GetWebsitesBase();
      $(document).on('click', '#rightSidebarToggle', function () {
        $('#right-sidebar-wrapper').toggle()
      })
      $(".forward").css("display", "none");
      $(document).on('change', '.radio', function () {
        var url = $(this).val();
        var dataId = $('option:selected', this).attr('data-id')
        $('.radio :selected').first().text(`${url}`);
        $('.selectedWebsite').html(`${url.replace('https://', '').replace('http://', '').replace(/\/$/, "")}`);
        $('.radio :selected').first().attr('data-id', dataId);
        localStorage.setItem('project_id', dataId);
        localStorage.setItem('project_url', url);
      });
      setTimeout(() => {
        if ($('.CountrySelect').length > 0) {
          $('#country-info-block-btn-modal').on('click', function () {
            $('#chooseLocation').modal('show');
            Get_country_languages();
          });
        }
        selectedWebsiteId = $('.radio :selected').first().attr('data-id');
      }, '2000');
      // add active class in sidebar
      var setDefaultActive = function () {
        var path = window.location.pathname;
        var element = $(".sidebar-wrapper a[href='" + path + "']");
        element.addClass("act");
      }
      setDefaultActive()
      function Get_country_languages() {
        $.ajax({
          type: "GET",
          url: "/user_management/get_country_languages/",
          success: function (response) {
            if (response.status == true) {
              $('.CountrySelect').empty();
              $('.CountrySelect').html('<option></option>')
              var json = response.country_languages;
              var options = [];
              for (var i = 0; i < json.length; i++) {
                var obj = json[i];
                let country = obj.Country;
                let lang = obj.Language;
                let code = obj.code;
                options.push({ id: code + '_' + country + '_' + lang, abbreviation: code, text: country + ' / ' + lang });
              }
              $('.CountrySelect').select2({
                placeholder: 'Select Location / Language',
                templateResult: formatCountry,
                data: options,
                dropdownParent: $('#chooseLocation')
              });
              function formatCountry(country) {
                if (!country.id) {
                  return country.text;
                }
                var $country = $(
                  '<span class="flag-icon flag-icon-' + country.abbreviation.toLowerCase() + ' flag-icon-squared"></span>' + '<span style="margin-left:10px;">' + country.text + '</span>'
                );
                return $country;
              };
              $('.CountrySelect').val($("#selectedLoaction").val()).trigger('change');
            } else {

            }
          },
          error: function (response) {
            ShowNoty(response.error, 'error');
          }
        });
      }
      $.ajax({
        type: "GET",
        url: "/is_admin/",
        success: function (response) {
          if (response.status) {
            $("#plan_details_li").show()
          }
          else {
            $("#plan_details_li").hide()
          }
        },
        error: function (res) {
          console.log(res.error)
        }
      })
      var location = '';
      $('.CountrySelect').on('change', function () {
        location = $(this).val();
      });
      $('.country-change-confirmation-submit-btn').on('click', function () {
        var id = $('.radio :selected').first().attr('data-id');
        $.ajax({
          method: 'POST',
          url: '/site_audit/save_project_location/',
          data: { project_id: id, location: location },
          success: function (response) {
            if (response.status) {
              // console.log(response, 'response country');
              window.location.reload();
            } else {
              console.log('something went wrong')
            }
          }
        })
      });
    });
    // logout
    var post_id = setInterval(postID, 1000)
    function postID(id) {
      var id = $('.radio :selected').first().attr('data-id')
      if (id !== undefined && id !== '') {
        clearInterval(post_id)
        $.ajax({
          method: 'GET',
          url: '/site_audit/get_project_location/?project_id=' + id,
          success: function (res) {
            if (res.status) {
              if (res.location != '') {
                // $('.country-wrapper').find('.fa').hide();
                const location = res.location;
                const code = location.split('_')[0];
                const country_name = location.split('_')[1];
                $('.country_loader').html('')
                $('.country-wrapper').find('.country').find('.country__name').html(`${country_name}`);
                $('.country__flag').addClass(`flag-icon-${code}`)
              } else {
                $('.country-wrapper').find('.country').find('.country__name').html("United States");
                $('.country__flag').addClass('flag-icon-us')
              }
            } else {
              $('.country-wrapper').find('.country').find('.country__name').html("United States");
              $('.country__flag').addClass('flag-icon-us')
            }
            $('.country-wrapper').find('.country').find('.country_loader').remove()
          }
        })
      }
    }

    // 
    function TotalPages(url) {
      $('#list-group-one').empty()
      $('#list-group-two').empty()
      $.ajax({
        method: 'GET',
        url: '/crawler/total_crawled_pages/?website_url=' + url,
        success: function (pages) {
          // console.log(pages)
          if (pages.status) {
            // console.log(pages,'pages')
            pages_allowed = pages.allowed_pages
            $(".allowed_Pages").html(pages_allowed)
           
            $('.link_loader').hide()
            var total_pages = pages.total_pages
            // const homeFilter = total_pages.filter(obj => obj.label === 'Home');
            const filteredArray = total_pages.filter(obj => obj.label !== 'Home');
            $('#list-group-one').empty()
            $('#list-group-two').empty()
            if (filteredArray.length > 0) {
              $.each(filteredArray, function (i, value) {
                // Check if the current row is one of the first 5 rows
                var isChecked = i < pages_allowed;
                // Use the "isChecked" variable to set the "checked" attribute of the checkbox
                $('#list-group-one').append(`<div><div class='list-group-item2 d-flex border-bottom'>
                                <input type="checkbox"   name="checkAll" heading="${value.label}" url="${value.url}" 
                                      class="checkSingle_left ml-5"   />
                                <div class="link_container">
                                  <strong class="search_headings"> ${value.label}</strong>
                                  <a href="#" class="list-group-item">${value.url}</a>
                                </div>
                              </div></div>`);
              });
              $('.sweap_right').on('click', function () {
  // console.log("hjhjjklk",  $("#list-group-two input[type='checkbox']").length, pages_allowed)
  if( $("#list-group-two input[type='checkbox']").length === pages_allowed || $("#list-group-one input[type='checkbox']").length  < pages_allowed){
  // console.log("jjj", $("#list-group-two input[type='checkbox']").length)
  $("#checkedAll_left").prop("disabled", true);
}
else{
  // console.log("kkk")
  $("#checkedAll_left").prop("disabled", false);
}
})
     setTimeout(() => {

      var selected_allowed_pages =  pages_allowed - $("#list-group-one input[type='checkbox']:checked").length  - $("#list-group-two input[type='checkbox']").length
      
$("#list-group-one input[type='checkbox']").on("change", function() {
  selected_allowed_pages = pages_allowed - $("#list-group-one input[type='checkbox']:checked").length - $("#list-group-two input[type='checkbox']").length
  // console.log("Selected allowed pages:", selected_allowed_pages);
  // do other stuff with the updated value of selected_allowed_pages
});
      
      // console.log("paa", pages_allowed ,$("#list-group-one input[type='checkbox']:checked").length )
      $("#checkedAll_left").change(function () {
        selected_allowed_pages = pages_allowed - $("#list-group-one input[type='checkbox']:checked").length - $("#list-group-two input[type='checkbox']").length
        if (this.checked) {
          $("#list-group-one input[type='checkbox']:not(:checked)").each(function (i, val) {
            i++
            // console.log("hello",i , selected_allowed_pages)
            if(selected_allowed_pages >= i)
            {
              this.checked = true;
            $('#SelectAll_left').text('Deselect All')
            }
          })
        } else {
          $(".checkSingle_left").each(function () {
            this.checked = false;
            $('#SelectAll_left').text('Select All')
          })
        }
      });

      $(".checkSingle_left").click(function () {
        if ($(this).is(":checked")) {
          var isAllChecked = 0;
          $(".checkSingle_left").each(function () {
            if (!this.checked)
              isAllChecked = 1;
          })
          if (isAllChecked == 0) { $("#checkedAll_left").prop("checked", true); }
        } else {
          $("#checkedAll_left").prop("checked", false);
        }
      });
      //   right
      $("#checkedAll_right").change(function () {
        if (this.checked) {
          $(".checkSingle_right").each(function () {
            this.checked = true;
            $('#SelectAll_right').text('Deselect All')
          })
        } else {
          $(".checkSingle_right").each(function () {
            this.checked = false;
            $('#SelectAll_right').text('Select All')

          })
        }
      });

      $(".checkSingle_right").click(function () {
        if ($(this).is(":checked")) {
          var isAllChecked = 0;
          $(".checkSingle_right").each(function () {
            if (!this.checked)
              isAllChecked = 1;
          })
          if (isAllChecked == 0) { $("#checkedAll_right").prop("checked", true); }
        } else {
          $("#checkedAll_right").prop("checked", false);
        }
      });
     }, 1000);
            } else {
              $("#SelectAll_left").hide()
              $("#SelectAll_right").hide()
              $("#checkedAll_right").hide()
              $("#checkedAll_left").hide()
              $('#list-group-one').append(`<div ><div class=' no-data-class '>  No Data Found</strong></div>  </div>`)
            }
            var countt = 0;
            $(`#list-group-one input[type='checkbox']`).each(function () {
              if (countt >= pages_allowed) {
                return false; // Exit the loop if we've already processed 20 items
              }
              $(this).prop('checked', true)
              countt++
            })
            $(".selected_Pages").html(  $("#list-group-one input[type='checkbox']:checked").length)
            $("#list-group-one input[type='checkbox']:not(:checked)").each(function () {
              $(this).prop('disabled', true)
            })

          } else {
            ShowNoty(pages.error, 'error')
            $('.link_loader').hide()
          }

        }
      })

    }

    // 
    var lb = document.getElementById("selectedDomain");
    lb.options.length = 0;
    var newOpt = new Option("Loading...", "");
    lb.options[0] = newOpt;
    function GetWebsitesBase() {
      var data_id = ''
      $.ajax({
        method: 'GET',
        url: '/site_audit/get_websites/',
        success: function (res) {
          // console.log(res.websites.links_count, 'get websites')
          $(".radio").html('');
          if (res.status && res.websites.length > 0) {
            $('.url_spinner').hide();
            var websites = res.websites;
            var results = websites.filter(obj => {
              return obj.i_website__website_url != "";
            });
            var url_list = websites.filter(obj => {
              return obj.urls_list != "";
            });

            $('.web_tooltip_html,.web_tooltip_html_mobile').html('');
            $('.selectedWebsite').html('')
            $.each(results, function (i, val) {
              // console.log("hwllo", val.urls_list, val)
              if (val.urls_list.length  = 0 || val.urls_list === '') {
                $(".websiteListt").modal("show");
                $('.link_loader').css('display', 'flex')
                $("#center-modal-btn-close").show()
                TotalPages(val.i_website__website_url)
              }
              //  if(val.links_count > 0){
              //     dashboard(val.i_website__website_url)
              //    }
              if (i === 0 && val.i_website__website_url != "") {
                //  run after datacrawled in
                

                if (localStorage.getItem('project_id') == null) {
                  $('.radio').attr('data-id', `${val.id}`);
                  $('.radio').html(`${val.i_website__website_url}`)
                  $('#url').html(`${val.i_website__website_url}`)
                  $('.selectedWebsite').html(`${val.i_website__website_url.replace('https://', '').replace('http://', '').replace(/\/$/, "")}`)
                  localStorage.setItem('project_id', val.id);
                  localStorage.setItem('project_url', val.i_website__website_url);
                  $('.radio').append(`<option selected name="${val.id}"  class="url" data-id="${val.id}" value="${val.i_website__website_url}">${val.i_website__website_url}</option>`)
                } else {
                  $('.radio').attr('data-id', localStorage.getItem('project_id'));
                  $('.radio').html(localStorage.getItem('project_url'))
                  $('.radio').html(`${localStorage.getItem('project_url').replace('https://', '').replace('http://', '').replace(/\/$/, "")}`)
                  $('.radio').append(`<option selected  name="${val.id}" class="url" data-id="${val.id}"  value="${val.i_website__website_url}">${val.i_website__website_url}</option>`)
                  $('.selectedWebsite').html(`${val.i_website__website_url}`)
                }
              } else {
                if (localStorage.getItem('project_id') == val.id) {
                  if (val.i_website__website_url != "") {
                    $('.radio').append(`<option selected name="${val.id}"  class="url" data-id="${val.id}"  value="${val.i_website__website_url}">${val.i_website__website_url}</option>`)
                  }
                } else {
                  if (val.i_website__website_url != "") {
                    $('.radio').append(`<option class="url" name="${val.id}" data-id="${val.id}"  value="${val.i_website__website_url}">${val.i_website__website_url}</option>`)
                  }
                }

              }
            });
          }
          else {
            // postID(data_id);
            $('.pointer-eve').addClass('pointer-events-none');
            $('.url_spinner').hide();
            $('.tooltip_custom').append('-');
            $('.tooltip_custom').addClass('pointer-events-none')
          }
        }
      });
    }
    $(document).on('click', '#logout', function () {
      localStorage.removeItem('project_id');
      localStorage.removeItem('project_url');
    })
  </script>
  <script type="text/javascript" src="{% static 'site_audit/libs/noty/noty.min.js' %}"></script>
  <script>
    function ShowNoty(status, type) {
      new Noty({
        layout: 'topRight',
        theme: 'light',
        type: type,
        text: `<div class="d-flex"><img style="width:25%" src="{% static '/site_audit/assets/logo.svg' %}" ><span title="${status}" class="px-2 notyellipses ">${status}</span></span></div>`,
        dismissQueue: true,
        template: '<div class="noty_message noty_bar noty_theme_default noty_layout_top noty_success"><span class="noty_text"></span><div class="noty_close"></div></div>',
        animation: {
          open: 'animated bounceInDown',
          close: 'animated bounceOutRight',
          speed: 500
        },
        timeout: 10000,
        force: false,
        modal: false,
        closeWith: ['click', 'button'],
        callback: {
          onShow: function () { },
          afterShow: function () { },
          onClose: function () { },
          afterClose: function () { }
        }
      }).show()
    }
    $(document).ready(function () {

      $('[data-toggle="popover"]').popover({
        placement: 'right',
        title: 'Sign in to the website builder',
        content: function () {
          return $(this).attr('data-content');
        },
        trigger: 'hover'
      });
    });
    // Ajax Loader
    xhrPool = [];
    $.ajaxSetup({
      beforeSend: function (jqXHR) {
        xhrPool.push(jqXHR);
      }
    })
    // add website code
    $(document).ready(function () {
      var website_url = '';
      $('#detect').prop('disabled', true)
      $('#DetectUrl').addClass("mb-2")
      $('#addToMyWebsite').on('hidden.bs.modal', function (e) {
        $(this)
          .find("input")
          .val('')
          .end()
      })
      $('#addToMyWebsite').on('hidden.bs.modal', function (e) {
        $(this)
          .find("#responseText")
          .html('')
          .end()
      })
      $('#DetectUrl').on('change input type', function () {
        website_url = $(this).val();
        $("#responseText").html("")
        var pattern = /(((http|ftp|https):\/{2})+(([0-9a-z_-]+\.)+(aero|asia|biz|cat|com|coop|edu|gov|info|int|jobs|mil|mobi|museum|name|net|org|pro|tel|travel|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cx|cy|cz|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mn|mn|mo|mp|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|nom|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ra|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw|arpa|solutions)(:[0-9]+)?((\/([~0-9a-zA-Z\#\+\%@\.\/_-]+))?(\?[0-9a-zA-Z\+\%@\/&\[\];=_-]+)?)?))\b/
        if (pattern.test(website_url)) {
          $('#detect').prop('disabled', false);
        } else {
          $('#detect').prop('disabled', true)
          $("#responseText").html('Please enter correct url i.e https://example.com').addClass('text-danger')
        }
      });

      $(document).on('click', '#detect', function (e) {
        e.preventDefault();
        var comp = new RegExp($('#DetectUrl').val());
        // console.log(comp, 'com')
        $("#responseText").html('')
        if (comp.test(website_url)) {
          // check domain end
          if (website_url != "" && website_url != undefined) {
            $.ajax({
              method: 'POST',
              url: '/site_audit/add_website/',
              data: { website_url: website_url },
              success: function (res) {
                if (res.status) {

                  $("#responseText").html("Website added successfully!").addClass('text-success').removeClass('text-danger')
                  window.location.href = '/site_audit/dashboard/'
                  localStorage.removeItem('project_id');
                  localStorage.removeItem('project_url');
                  GetWebsitesBase();
                }
                else {
                  if (res.limits_error) {

                    $("#upgradeSub").modal('show')
                    $('#addToMyWebsite').hide();
                    $("#sidebarMenu").css("z-index", '10000')
                    $('#main-navbar').css("z-index", '99999')
                    $('main').css('opacity', '0.07')
                  }
                  else {
                    ShowNoty(res.error, "error")
                  }
                  $("#responseText").html(`${res.error}`).addClass('text-danger').removeClass('text-success');
                }
              }
            })
          } else {
            $("#responseText").html("url is undefined")
          }
        }
        else {
          console.log('not working')
          $("#responseText").html(`Please enter correct domain i.e ${$('.radio :selected').val()}`).addClass('text-danger')
        }
      })


      //  add existing url
      var key = new URL(document.location).searchParams.get("url");
      if (key) {
        $(".websiteListt").modal("show");
        $('.link_loader').css('display', 'flex')
        TotalPages(key)
      }
      $(document).on('click', '#detect_exis_url', function (e) {
        $('#list-group-one').empty()
        $("#SelectAll_left").show()
        $("#SelectAll_right").show()
        $("#checkedAll_right").show()
        $("#checkedAll_left").show()
        e.preventDefault();
        var url = $('.web_url').val();
        var comp = new RegExp($('#DetectUrl').val());
        // console.log(comp, 'com')
        $("#responseText").html('')
        if (comp.test(url)) {
          // check domain end
          if (url != "" && url != undefined) {
            $.ajax({
              method: 'POST',
              url: '/site_audit/add_website/',
              data: { website_url: url },
              success: function (res) {
                if (res.status) {
                  //  get crawld pages list start
                  $('.link_loader').css('display', 'flex')
                  $("#list-group-one").empty()
                  $("#list-group-two").empty()
                  $(".websiteListt").modal("show");
                  TotalPages(url)

                  // get crawled pages list end
                  $('#addToMyWebsite').modal("hide");
                  $("#responseText").html("Website added successfully!").addClass('text-success').removeClass('text-danger')
                  //window.location.href = '/site_audit/dashboard/'
                  localStorage.removeItem('project_id');
                  localStorage.removeItem('project_url');
                  GetWebsitesBase();
                }
                else {
                  if (res.limits_error) {
                    $('#addToMyWebsite').hide();
                    $("#upgradeSub").modal('show')
                    $("#sidebarMenu").css("z-index", '10000')
                    $('#main-navbar').css("z-index", '99999')
                  }
                  else {
                    ShowNoty(res.error, "error")
                  }
                  $("#responseText").html(`${res.error}`).addClass('text-danger').removeClass('text-success');
                }
              }
            })
          } else {
            $("#responseText").html("url is undefined")
          }
        }
        else {
          console.log('not working')
          $("#responseText").html(`Please enter correct domain i.e ${$('.radio :selected').val()}`).addClass('text-danger')
        }
      })
    });
    $(document).ready(function () {
      setNavigation();
    })
    var m = '';
    $(".radio").mouseover(function () {
      m = $('.radio :selected').val();
    })
    $(".radio").hover(function () {
      $(".radio").attr('title', m);
    });
    function setNavigation() {
      var path = window.location.pathname;
      path = path.replace(/\$/, "");
      $(".sideBar-collapse li a, .sidenav-collapse li a").each(function () {
        var href = $(this).attr('href');
        if (path === href) {
          $(this).parent().parent().addClass('show');
          $(this).parent().addClass("active1");

          var $panel = $(this).closest('.list-group-item');
          $('#sidebarMenu').animate({
            scrollTop: $panel.offset().top
          }, 0);
        }
      });

      $("#sidebarMenu .list-group-item").each(function () {
        var href = $(this).attr('href');
        if (path === href) {
          $(this).addClass('active');

          var $panel = $(this).closest('.list-group-item');
          $('#sidebarMenu').animate({
            scrollTop: $panel.offset().top - 70
          }, 0);

        }
        else {
          $(this).removeClass("active")
        }
      })
    }
    $(".navbar-toggler").click(function () {
      $("#sidebarMenu").toggleClass("d-none");
    });

    /* Tab Function */
    jQuery("[data-targetit]").on("click", function (e) {
      jQuery(this).addClass("active");
      jQuery(this).siblings().removeClass("active");
      var target = jQuery(this).data("targetit");
      jQuery("." + target)
        .siblings('[class^="tabs-"]')
        .hide();
      jQuery("." + target).fadeIn();
    });
    // only function start
    $(document).on('mouseenter', '.only', function () {
      $(this).find('.number').hide();
      $(this).find('.btn-custom').show()
    });
    $(document).on('mouseleave', '.only', function () {
      $(this).find('.number').show();
      $(this).find('.btn-custom').hide()
    });
    // only function end
    function kFormatter(num) {
      return Math.abs(num) > 999 ? Math.sign(num) * ((Math.abs(num) / 1000).toFixed(1)) + 'k' : Math.sign(num) * Math.abs(num)
    }
    // add analytics btn
    // $('#conect_g_analytics').on('click', function () {
    //   $('.top_spinner').show();
    //   $(".google_spinner").css("opacity", "1")
    //   var project_id = $('.radio :selected').first().attr('data-id')
    //   const perm_url = window.location.origin + '/site_audit/get_auth_url/?project_id=' + project_id;
    //   $.ajax({
    //     method: 'GET',
    //     url: perm_url,
    //     success: function (response) {
    //       if (response.status) {
    //         $('.top_spinner').hide();
    //         let auth_url = response.auth_url;
    //         window.location.href = auth_url
    //       } else {
    //         ShowNoty('Somthing went wrong', 'error');
    //         $('.top_spinner').hide();
    //         $('.google_spinner').hide();

    //       }
    //     }
    //   })
    // })
    $(document).on('click', '.help_process', function () {
      ShowNoty('Crawled data in process,you may go to Project List for further details', 'warning')
    })
    // content-apges popups
    $(document).on('click', '.help-icon', function () {
      $('.help-icon').parent().find('small').removeClass('pop_show');
      $(this).parent().find('small').addClass('pop_show');
    }
    );
    $(document).click(function () {
      $('.help-icon').parent().find('small').removeClass('pop_show');

    });
    // links modal js
      $(document).ready(function () {
      //       var  theCheckboxes = $("#list-group-one input[type='checkbox']")

      //     $(document).on("change",theCheckboxes,function()
      //         {
      //           var count = 0;
      //           $("#list-group-one input[type='checkbox']:checked").each(function(){
      //             count++;
      //           })
      //         // console.log(count,'count')
      //         $(".selected_Pages").html(count)
      //           if(count >= pages_allowed){
      //             $("#list-group-one input[type='checkbox']:not(:checked)").each(function(){
      //              $(this).prop('disabled',true)
      //           })
      //           } else{
      //             $("#list-group-one input[type='checkbox']:not(:checked)").each(function(){
      //              $(this).prop('disabled',false)
      //           })
      //           }
      //         }
      // );
      var theCheckboxes = $("#list-group-one input[type='checkbox']")
      var theCheckboxes_right = $("#list-group-two input[type='checkbox']")
      var counter = 0
      $(document).on("change", theCheckboxes, function () {
        var count
        counter = $("#list-group-two input[type='checkbox']").length;
        if (counter > 0) {
          count = counter;
        } else {
          count = 0
        }
        $("#list-group-one input[type='checkbox']:checked").each(function () {
          count++;
        })
        // console.log(count,'count')
        $(".selected_Pages").html(count)
        if (count >= pages_allowed) {
          $("#list-group-one input[type='checkbox']:not(:checked)").each(function () {
            $(this).prop('disabled', true)
          })
        } else {
          $("#list-group-one input[type='checkbox']:not(:checked)").each(function () {
            $(this).prop('disabled', false)
          })
        }
      }
      );

      // imges functions start
      // function for getting image types data 
     
      // post links to crawl start

      $(document).on('click', '#submit_links', function () {
        $("#submit_links").prop("disabled", true)
        $('#submit_loader').removeClass('d-none')
        var links_array = [];
        $('#list-group-two .list-group-item').each(function () {
          links_array.push($(this).text())
        });
        // $.ajax({
        //   method: 'GET',
        //   url: `/site_audit/crawler_data/?url=${links_array}`,
        //   success: function (res) {

        //     if (res.status) {
        //       $('#submit_loader').addClass('d-none')
        //       $(".websiteListt").modal("hide");
        //       window.location.href = "/site_audit/dashboard/"
        //     } else {
        //       if (res.crawl_request_inprocess) {

        //         $("#blocked").html("-");
        //         $("#healthy").html("-");
        //         $("#redirects").html("-");
        //         $("#broken").html("-");
        //         $("#total-crawler-page").html("-");
        //         $("#total-web-page").html("-");
        //         $("#total-crawler-pages").html("-");
        //         $("#percentage_count").html("-");
        //         ShowNoty(res.error, 'warning')

        //       } else {
        //         ShowNoty(res.error, 'error')
        //       }
        //     }
        //     console.log(res, 'crawler rrsponse with array')
        //   }
        // });
        
        var main_url = $('#selectedDomain :selected').val();

        $.ajax({
          method: 'POST',
          url: '/site_audit/add_multiple_website/',
          data: { website_url: JSON.stringify(links_array), main_url: main_url },
          success: function (res) {

            window.location.href = "/site_audit/dashboard/"
          }
        })
        // add projects from links end
      })
      // post links to crawl end
      $('[data-bs-toggle="tooltip"]').tooltip();
      $('#list-group-two').empty()
      $('.sweap_right').on('click', function () {
        setTimeout(() => {
          if ($("#list-group-two input[type='checkbox']").length > 0) {
            $("#submit_links").prop('disabled', false);
          }
        }, 100);
        if ($('#checkedAll_left').is(':checked')) {
          $('#checkedAll_left').prop('checked', false);
          $('#SelectAll_left').text('Select All')
        }
        $('#list-group-one .checkSingle_left:checked').each(function () {
          // arr.push($(this).attr('url'))
          $('#list-group-two').append(`<div > <div class='list-group-item3 d-flex border-bottom'> <input  type="checkbox" heading="${$(this).attr('heading')}"  name="checkAll" url="${$(this).attr('url')}" class="checkSingle_right ml-5" /><div class="link_container"> <strong class="search_headings"> ${$(this).attr('heading')}</strong><a href="#" class="list-group-item">${$(this).attr('url')}</a></div></div></div>`)
          $('.checkSingle_left:checked').parent().remove();
        });
        var list_length_left = $('.checkSingle_left').length;
        if (list_length_left <= 0) {
          // $('#checkedAll_left').prop('disabled', true)
        } else {
          // $('#checkedAll_left').prop('disabled', false)
        }
        var list_length_right = $('.checkSingle_right').length;
        if (list_length_right <= 0) {
          $('#checkedAll_right').prop('disabled', true)
        } else {
          $('#checkedAll_right').prop('disabled', false)
        }
      });

      $('.sweap_left').on('click', function () {


        setTimeout(() => {
          if ($("#list-group-two input[type='checkbox']").length === 0) {
            $("#submit_links").prop('disabled', true);
          }
        }, 100);
        var checked_items = 0
        var selected_counts = pages_allowed - $("#list-group-two input[type='checkbox']").length;
        if ($('#checkedAll_right').is(':checked')) {

          $('#checkedAll_right').prop('checked', false);
          $('#SelectAll_right').text('Select All')
        }
        $('#list-group-two .checkSingle_right:checked').each(function () {
          checked_items++
          $('#list-group-one').prepend(`<div ><div class='list-group-item2 d-flex'><input  type="checkbox" name="checkAll" heading="${$(this).attr('heading')}" url="${$(this).attr('url')}" class="checkSingle_left ml-5" /> <div class="link_container"> <strong class="search_headings"> ${$(this).attr('heading')}</strong><a href="#" class="list-group-item">${$(this).attr('url')}</a></div></div></div>`)
          $('.checkSingle_right:checked').parent().remove();
        });

        $(".selected_Pages").html(pages_allowed - (selected_counts + checked_items))
        $("#list-group-one input[type='checkbox']:not(:checked)").each(function () {
          $(this).prop('disabled', false)
        })


        var list_length = $('.checkSingle_left').length;
        if (list_length <= 0) {
          $('#checkedAll_left').prop('disabled', true)
        } else {
          $('#checkedAll_left').prop('disabled', false)
        }
        var list_length_right = $('.checkSingle_right').length;
        if (list_length_right <= 0) {
          $('#checkedAll_right').prop('disabled', true)
        } else {
          $('#checkedAll_right').prop('disabled', false)
        }
      })

    })

    // Free and Pro Section Code Start 
    $.ajax({
  type: "GET",
  url: "/payment/view_subscription/",
  success: function(response){
    //console.log(response,'ress');
    if(response.status){
      // console.log("my subs", response)
      response.data.map((val, id) => {
        
        //  console.log("hhh", val.plan_id_id)
         if(val.plan_id_id == 'Free Plan') {
          $(".freeProSection").show()
         }else{
          $(".freeProSection").hide()
         }
         if(val.plan_id_id == 'Free Plan' ) {
          $(".freeProSectionMembership").show()
         }else{
          $(".freeProSectionMembership").hide()
         }

         if( val.plan_id_id == 'Pro Plan') {
          $(".freeProSectionMembership2").show()
          // $(".upgrade-btn").css("left", "none !important")
         }else{
          $(".freeProSectionMembership2").hide()
          // $(".upgrade-btn").css("left", "auto")
         }
      });
    }
  }
});


      // Free and Pro Section Code End 

  </script>
  
<script src="https://js.stripe.com/v3/"></script>
<script src="{% static 'site_audit/js/chart.js' %}"></script>
<script src="{% static 'site_audit/js/select2.min.js' %}"></script>
<script src="{% static 'site_audit/js/service_subscription.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-circle-progress/1.2.2/circle-progress.min.js"></script>
  {% block extrascript %}
  {% endblock %}
</body>

</html>